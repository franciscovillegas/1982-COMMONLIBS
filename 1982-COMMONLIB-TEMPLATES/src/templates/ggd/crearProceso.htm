<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Crear Proceso</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<script language="JavaScript" type="text/JavaScript">
<!--




function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);
//-->
</script>
<style type="text/css">
<!--
body {
	margin-left: 0px;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	background-color: #CCCCCC;
}
.Estilo3 {font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 10px; }
#Layer6 {
	position:absolute;
	left:10px;
	top:7px;
	width:331px;
	height:17px;
	z-index:2;
}
#Layer7 {
	position:absolute;
	left:9px;
	top:37px;
	width:332px;
	height:17px;
	z-index:3;
}
#Layer8 {
	position:absolute;
	left:10px;
	top:93px;
	width:326px;
	height:14px;
	z-index:4;
}
-->
</style></head>
<script>
function fnInicio(){
<if REG == false && MSG !="">
	alert('${MSG}');
</if>
<if REG == true && MSG !="">
	alert('${MSG}');
</if>
<if proceso>
	document.form.proceso.value='${proceso}';
</if>
<if fechaInicio>
	document.form.fechaInicio.value='${fechaInicio}';
</if>
<if fechaTermino>
	document.form.fechaTermino.value='${fechaTermino}';
</if>
}
function fnAplicar(opcion){
	fechaIni = form.fechaInicio.value;
	fechaTer = form.fechaTermino.value;
	if(opcion == "grabar"){
		form.action="../servlet/crearProceso?txtAccion=CR";
		form.submit();
	}
}
function fnValidar(caja){ 
   if (caja){  
      borrar = caja;
      if ((caja.substr(2,1) == "-") && (caja.substr(5,1) == "-")){      
         for (i=0; i<10; i++){	
            if (((caja.substr(i,1)<"0") || (caja.substr(i,1)>"9")) && (i != 2) && (i != 5)){
               borrar = '';
               break;  
			}  
         }
	     if (borrar){ 
	        a = caja.substr(6,4);
		    m = caja.substr(3,2);
		    d = caja.substr(0,2);
		    if((a < 1900) || (a > 2050) || (m < 1) || (m > 12) || (d < 1) || (d > 31))
		       borrar = '';
		    else{
		       if((a%4 != 0) && (m == 2) && (d > 28))	   
		          borrar = ''; // A&#241;o no biciesto y es febrero y el dia es mayor a 28
			   else{
		          if ((((m == 4) || (m == 6) || (m == 9) || (m==11)) && (d>30)) || ((m==2) && (d>29)))
			         borrar = '';	      				  	 
			   }
		    }
         }
      }
	  else
	     borrar = '';
	  if (borrar == '')
	     alert('Fecha no valida');
   }
}
</script> 
<link href="../servlet/Tool?style/ggd.css" rel="stylesheet" type="text/css" />
<body onLoad="fnInicio()" background="../servlet/Tool?images/images_ggd/ggd/conf_perfiles/fondo_crear_proceso.jpg">
  <div id="Layer1" style="position:absolute;left:250px;top:280px;width:26px;height:30px;z-index:5;"><a href="#" onClick="fnAplicar('grabar');return false;"><img name="crear_perf_r11_c3" src="../servlet/Tool?images/images_ggd/ggd/botones/grabar.gif" width="30" height="30" border="0" title="Grabar Proceso" alt="GRABAR PROCESO"></a></div>
  <form name="form" method="post" action="../servlet/crearProceso?">


<input name="txtAccion" type="hidden" value="CR">
    <div id="Layer2" style="position:absolute; width:331px; height:21px; z-index:2; left: 9px; top: 59px;">
      <input name="proceso" type="text" class="campo_texto" size="75">
    </div>
    <div id="Layer3" style="position:absolute; width:328px; height:108px; z-index:2; left: 11px; top: 117px;"> 
      <table width="100%" border="0" cellpadding="0" cellspacing="1">
	<tr>
	  <td class="texto_titulo">Inicio</td>
	  <td class="texto_titulo">T&eacute;rmino</td>
	  </tr>
	<tr>
		<td><input name="fechaInicio" type="text" class="campo_texto" onChange='fnValidar(this.value); this.value=borrar'></td>
		<td><input name="fechaTermino" type="text" class="campo_texto" onChange='fnValidar(this.value); this.value=borrar'></td>
	</tr>
</table>
</div>
    <div id="Layer4" style="position:absolute; width:150px; height:13px; z-index:2; left: 12px; top: 232px;"> 
      <table width="190" border="0" cellpadding="0" cellspacing="1">
	<tr>
	  <td width="95" class="texto_titulo">Vigente:</td>
		<td width="48" class="txt_gris"><input name="s" type="radio">Si</td>
		<td width="43" class="txt_gris"><input name="n" type="radio">No</td>
	</tr>
</table>
    </div>
  </form>
  <div id="Layer5" style="position:absolute; width:96px; height:15px; z-index:3; left: 15px; top: 155px;">(dd-mm-aaaa)</div>
  <div class="boton_rojo" id="Layer6">Crear Proceso </div>
  <div id="Layer7">Nombre Proceso </div>
  <div id="Layer8">Ingresar Fecha </div>
</body>
</html>