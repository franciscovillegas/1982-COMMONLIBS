<HTML>
<HEAD>
<TITLE>main_resultado</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<script language="JavaScript" src="Tool?htm=Gestion/script/ventanas.js"></script>
<script language="JavaScript" src="Tool?htm=Gestion/script/opcion_link.js"></script>
<script language="JavaScript">
<!--
function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);
// -->
function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_showHideLayers() { //v6.0
  var i,p,v,obj,args=MM_showHideLayers.arguments;
  for (i=0; i<(args.length-2); i+=3) if ((obj=MM_findObj(args[i]))!=null) { v=args[i+2];
    if (obj.style) { obj=obj.style; v=(v=='show')?'visible':(v=='hide')?'hidden':v; }
    obj.visibility=v; }
}

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}

function asignaEncargadoUnidad(){
   var j=0
   for (i=0;i<document.frm1.encargado.length;i++)
      if(document.frm1.encargado[i].type == "checkbox")
         if(document.frm1.encargado[i].checked==1)
           j = j+1
   if(j>1) alert("Debe seleccionar solo un Encargado de Unidad")        
   else document.frm1.submit();
}

function activaAcceso(){
	if (!document.frm1.acceso.checked) 	
	   document.frm1.acceso2.value=0;
	else 
	   document.frm1.acceso2.value=1;
}

//-->
</script>
<script language="JavaScript" src="../servlet/Tool?scripts/ExisteFoto.js"></script>
<link href="../servlet/Tool?style/gestion.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY>
<form name="frm1" method="post" action="../servlet/AsignaEncargadoUnidad">
<input type="hidden" name="unidad" value="${unid_id}">
<input type="hidden" name="empresa" value="${empresa}">
<input type="hidden" name="rut" value="0">
<input type="hidden" name="Accion" value="1">
<table width="295">
<tr><td class="texto_negro" style="padding-left:5"><br>Unidad : ${unid_id}, Empresa: ${empresa}</td></tr>
<tr><td>
<span id="Layer2" style="position:absolute; width:295px; height:290px; z-index:2; left: 4px; top: 30px; overflow: auto">
<table width="295">
<tr>
<td align="center" class="tabla_beige">Seleccionar</td>
<td align="center" class="tabla_beige">Nombre</td>
<td align="center" class="tabla_beige">Cargo</td>
</tr>
<list varios as v>
<if v.rut == rutEncargado> 
<assign elegido="checked">
<else> 
<assign elegido="">
</if>
<tr>
<td><input type="checkbox" name="encargado" value="${v.rut}" ${elegido}/></td>
<td class="texto_negro">${v.nombre}</td>
<td class="texto_negro">${v.desc_cargo}</td>
</tr>
</list>
<tr><td colspan="3" align="right">Habilitar Acceso a Gestion: 
<if accesoEncargado > 
<input type="checkbox" name="acceso" value="1" checked onclick="activaAcceso()"/>
<input type="hidden" name="acceso2" value="1"/>
<else>
<input type="checkbox" name="acceso" value="0" onclick="activaAcceso()"/>
<input type="hidden" name="acceso2" value="0"/>
</if>
</td></tr>
</table>
</span>
</td></tr>
<tr><td align="left">
<div id="Layer3" style="position:absolute; width:98px; height:30px; z-index:2; left: 210px; top: 320px; overflow: auto">
<a href="#" onClick="javascript:asignaEncargadoUnidad();" onMouseOut="MM_swapImgRestore()" onMouseOver="MM_swapImage('img_aceptar','','../servlet/Tool?images/new/botones/aceptar_f2.gif',1)">
<img src="../servlet/Tool?images/new/botones/aceptar.gif" name="img_aceptar" width="91" height="21" border="0" >
</a>
</div>
</td></tr>
</table>
</form>
</BODY>
</HTML>