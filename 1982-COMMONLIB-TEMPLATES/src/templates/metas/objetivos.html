<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>EVALUACI&#211;N DE OBJETIVOS PARA ${colaborador}</title>
<SCRIPT language=JavaScript src="../servlet/Tool?scripts/validadores.js"></SCRIPT>
<script language="JavaScript" src="../servlet/Tool?scripts/ExisteFoto.js"></script>
<style type="text/css">
<!--
#Layer1 {
	position:absolute;
	left:14px;
	top:34px;
	width:62px;
	height:81px;
	z-index:1;
}
#Layer2 {
	position:absolute;
	left:16px;
	top:10px;
	width:525px;
	z-index:2;
}
#Layer3 {
	position:absolute;
	left:11px;
	top:168px;
	width:221px;
	z-index:3;
}
#Layer4 {
	position:absolute;
	left:11px;
	top:186px;
	width:221px;
	height:340px;
	z-index:4;
	overflow: auto;
}
#Layer5 {
	position:absolute;
	left:15px;
	top:30px;
	width:738px;
	height:465px;
	z-index:5;
	overflow: auto;
}
#Layer6 {
	position:absolute;
	left:15px;
	top:10px;
	width:738px;
	z-index:6;
}
#Layer7 {
	position:absolute;
	left:85px;
	top:35px;
	width:456px;
	height:111px;
	z-index:7;
}
#Layer8 {
	position:absolute;
	left:11px;
	top:10px;
	width:221px;
	z-index:8;
}
#Layer9 {
	position:absolute;
	left:11px;
	top:31px;
	width:221px;
	height:119px;
	z-index:9;
}
#Layer10 {
	position:absolute;
	left:416px;
	top:538px;
	width:336px;
	height:25px;
	z-index:10;
}
#Layer100 {
	position:absolute;
	left:120px;
	top:547px;
	width:245px;
	height:25px;
	z-index:10;
}
#Layer11 {
	position:absolute;
	left:15px;
	top:499px;
	width:738px;
	z-index:11;
}
.Estilo1 {color: #009900}
-->
</style>
<script type="text/JavaScript">
<!--
function MM_openBrWindow(theURL,winName,features) { //v2.0
  window.open(theURL,winName,features);
}

function Accion(evento){
	if (evento == "GRABAR"){
		if (evento == "GRABAR"){
			  if(validarIngreso()){
				 //alert("OK");
				 document.form1.accion.value = evento;
			     document.form1.submit();	
			  }else{
	             alert("Existen errores en el ingreso de datos.");
			  }
	 	} 
	}
}
function validarIngreso() { 
	
    var contadorError = 0; 
    //alert(document.forms[0].puntajes.length);
	if (!isNull(document.forms[0].puntajes)) {	
		//alert("entra1");
		if (isArray(document.forms[0].puntajes)) {
			//alert("entra2");
            for(var j=0;j<document.forms[0].puntajes.length;j++){
                //alert(document.forms[0].puntajes[j].value);
                if(validarErrorValor(document.forms[0].puntajes[j].value)){
                	contadorError++;
                	//alert("ERROR");
                }
            }
	    }else{
	    	 if(validarErrorValor(document.forms[0].puntajes.value)){
             	contadorError++;
             	//alert("ERROR de registro solitario");
             }
		}
	}
	//alert("contadorError: " + contadorError);
	if(contadorError == 0){
		//alert("OK");
		return true;
	}else{ 
		//alert("Existen errores de ingreso de datos.");
		return false;
	}
}

function validarErrorValor(valor) { 
	//alert(valor);
	var digits="0123456789."; 
    var temp; 
	if (valor != ""){ 
	   for (var i=0;i<valor.length;i++){
		   temp=valor.substring(i,i+1); 
	       if (digits.indexOf(temp)==-1){  
	    	   //alert("DATOS INCORRECTOS.- Solo pueden introducirse caracteres num&#233;ricos o decimales con el caracter punto (EJ: 89.6)"); 
	           return true; 
	       } 
	   } 
	}
} 

//-->
</script>
</head>
<link href="../servlet/Tool?style/ggd.css" rel="stylesheet" type="text/css">
<body background="../servlet/Tool?images/ggd/metas/objetivos.jpg">
<form name="form1" method="post" action="../servlet/ServletObjetivosEvaluacion">
<input name="rut_colaborador" type="hidden" class="campo_texto" style="width:97%" value="${rut_colaborador}"/>
<input name="accion" type="hidden" class="campo_texto" style="width:97%"/>
	<div id="Layer5">
	  <table width="100%" border="0" cellpadding="1" cellspacing="1" class="txt_gris">
	     <list getObjetivosColaborador as o>
	      <tr>     
	       <input name="objetivos" value="${o.id_objetivo}" type="hidden"/>
	       <input name="ponderaciones" value="${o.ponderacion}" type="hidden"/>
	       <td width="50%" class="campo_texto">${o.objetivo}</td>	       
	       <td width="10%" class="campo_texto" align="center">&nbsp;${o.ponderacion}</td>
	       <td width="10%" class="campo_texto" align="center">&nbsp;${o.puntaje}</td>
	       <td width="10%" class="campo_texto" align="center">&nbsp;${o.factor_ponderado}</td>
	       <td width="20%" class="campo_texto" align="center">&nbsp;${o.escala}</td>
	      </tr>
	    </list>
	  </table>
</div>
	<div id="Layer6">
	  <table width="100%" border="0" cellpadding="0" cellspacing="0" class="txt_gris_bold">
	    <tr>
	      <td width="50%"><span class="texto_titulo_rojo">OBJETIVOS</span> de: <span class="texto_titulo_rojo">${colaborador}</span></td>
	      <td width="10%" align="center">% esperado</td>
	      <td width="10%" align="center">% realizaci&oacute;n </td>
	      <td width="10%" align="center">Factor Pond.</td>
	      <td width="20%" align="center">Escala</td>
	    </tr>
	  </table>
</div>
	<div id="Layer100">
	  <table border="0" align="right" cellpadding="0">
	    <tr>
	      <td>&nbsp;</td>
	      <td>&nbsp;</td>
	      <td nowrap="nowrap"><span class="texto_titulo_rojo">${salida}</span></td>
	      <td width="30">&nbsp;</td>
	      <td width="30">&nbsp;</td>
	    </tr>
	  </table>
</div>
	<div id="Layer10">
	  <table border="0" align="right" cellpadding="0">
	    <tr>
	      <td>&nbsp;</td>
	      <td>&nbsp;</td>
	      <td nowrap="nowrap">Seleccione una opci&oacute;n: </td>
	      <td width="30"><a href="javascript:window.close();" target="_parent"><img src="../servlet/Tool?images/ggd/botones/cerrar.gif" alt="Cerrar" name="evaluaciones_r13_c13" width="30" height="30" border="0" id="evaluaciones_r13_c13"></a></td>
	    </tr>
	  </table>
</div>
	<div id="Layer11">
	  <table width="100%" border="0" cellpadding="0" cellspacing="1" class="txt_gris">
	    <tr>
	      <td width="50%" height="25" class="fondo_tablaAmarillo">TOTALES:</td>
	      <td width="10%" align="center" class="fondo_tablaAmarillo">${sum_ponderacion}%</td>
	      <td width="10%" align="center" class="fondo_tablaAmarillo">${prom_puntaje}%</td>
	      <td width="10%" align="center" class="fondo_tablaAmarillo">${sum_factor_ponderado}</td>
	      <td width="20%" align="center" class="fondo_tablaAmarillo">${escala_total}</td>
	    </tr>
	  </table>
</div>
</body>
</html>